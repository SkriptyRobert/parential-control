# AdGuard Home Configuration
# Parental Control - Windows Service Edition
# 
# This file is copied during installation.
# After setup, modify via web interface at http://localhost:3000

bind_host: 0.0.0.0
bind_port: 3000
users: []
auth_attempts: 5
block_auth_min: 15
http_proxy: ""
language: cs
theme: auto

dns:
  bind_hosts:
    - 0.0.0.0
  port: 53
  
  # Statistics and logging
  statistics_interval: 1
  querylog_enabled: true
  querylog_file_enabled: true
  querylog_interval: 2160h
  querylog_size_memory: 1000
  anonymize_client_ip: false
  
  # Protection settings
  protection_enabled: true
  blocking_mode: default
  blocking_ipv4: ""
  blocking_ipv6: ""
  blocked_response_ttl: 10
  
  # Rate limiting
  ratelimit: 20
  ratelimit_whitelist: []
  refuse_any: true
  
  # Upstream DNS servers (DNS-over-HTTPS for privacy)
  upstream_dns:
    - https://dns.cloudflare.com/dns-query
    - https://dns.google/dns-query
  upstream_dns_file: ""
  
  # Bootstrap DNS (for resolving upstream hostnames)
  bootstrap_dns:
    - 1.1.1.1
    - 8.8.8.8
    - 9.9.9.9
  
  all_servers: false
  fastest_addr: true
  fastest_timeout_ms: 750
  
  # Access control
  allowed_clients: []
  disallowed_clients: []
  blocked_hosts:
    - version.bind
    - id.server
    - hostname.bind
  
  # Safe features
  parental_sensitivity: 0
  parental_enabled: false
  safesearch_enabled: true
  safebrowsing_enabled: true
  safebrowsing_cache_size: 1048576
  safesearch_cache_size: 1048576
  parental_cache_size: 1048576
  
  # Cache settings
  cache_time: 30
  cache_size: 4194304
  cache_ttl_min: 0
  cache_ttl_max: 0
  cache_optimistic: false
  
  # Advanced
  bogus_nxdomain: []
  aaaa_disabled: false
  enable_dnssec: true
  edns_client_subnet:
    custom_ip: ""
    enabled: false
    use_custom: false
  max_goroutines: 300
  handle_ddr: true
  ipset: []
  ipset_file: ""
  
  # Filtering
  filtering_enabled: true
  filters_update_interval: 24
  
  # Safe Search configuration
  safe_search:
    enabled: true
    bing: true
    duckduckgo: true
    google: true
    pixabay: true
    yandex: true
    youtube: true
  
  rewrites: []
  blocked_services:
    schedule:
      time_zone: Europe/Prague
    ids: []

# TLS settings (disabled by default)
tls:
  enabled: false
  server_name: ""
  force_https: false
  port_https: 443
  port_dns_over_tls: 853
  port_dns_over_quic: 853
  allow_unencrypted_doh: false
  certificate_chain: ""
  private_key: ""
  certificate_path: ""
  private_key_path: ""

# DNS blocklists (verified working URLs)
filters:
  # Main filter lists
  - enabled: true
    url: https://adguardteam.github.io/AdGuardSDNSFilter/Filters/filter.txt
    name: AdGuard DNS filter
    id: 1
  - enabled: true
    url: https://adaway.org/hosts.txt
    name: AdAway Default Blocklist
    id: 2
  - enabled: true
    url: https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts
    name: Steven Black's Unified Hosts
    id: 3
    
  # Security lists - Malware, Phishing, Scam
  - enabled: true
    url: https://raw.githubusercontent.com/DandelionSprout/adfilt/master/Alternate%20versions%20Anti-Malware%20List/AntiMalwareAdGuardHome.txt
    name: Dandelion Sprout's Anti-Malware List
    id: 4
  - enabled: true
    url: https://phishing.army/download/phishing_army_blocklist_extended.txt
    name: Phishing Army Extended
    id: 5
  - enabled: true
    url: https://raw.githubusercontent.com/Spam404/lists/master/main-blacklist.txt
    name: Spam404 - Scam and Phishing
    id: 6
  - enabled: true
    url: https://raw.githubusercontent.com/durablenapkin/scamblocklist/master/hosts.txt
    name: Scam Blocklist
    id: 7
  - enabled: true
    url: https://urlhaus.abuse.ch/downloads/hostfile/
    name: URLhaus Malware Domains
    id: 8
  - enabled: true
    url: https://raw.githubusercontent.com/mitchellkrogza/Phishing.Database/master/phishing-domains-ACTIVE.txt
    name: Phishing Database Active
    id: 9
    
  # Ads and Tracking - World Wide Lists
  - enabled: true
    url: https://v.firebog.net/hosts/Easylist.txt
    name: EasyList (Ads)
    id: 10
  - enabled: true
    url: https://v.firebog.net/hosts/Easyprivacy.txt
    name: EasyPrivacy (Tracking)
    id: 11
  - enabled: true
    url: https://v.firebog.net/hosts/Prigent-Ads.txt
    name: Prigent Ads
    id: 12
  - enabled: true
    url: https://v.firebog.net/hosts/Prigent-Malware.txt
    name: Prigent Malware
    id: 13
  - enabled: true
    url: https://raw.githubusercontent.com/AdguardTeam/AdguardFilters/master/SpywareFilter/sections/tracking.txt
    name: AdGuard Tracking Protection
    id: 14
  - enabled: true
    url: https://raw.githubusercontent.com/AdguardTeam/AdguardFilters/master/MobileFilter/sections/adservers.txt
    name: AdGuard Mobile Ads
    id: 15
    
  # Adult content
  - enabled: true
    url: https://raw.githubusercontent.com/StevenBlack/hosts/master/alternates/porn/hosts
    name: Steven Black - Porn
    id: 16
  - enabled: true
    url: https://nsfw.oisd.nl/domainswild
    name: OISD NSFW
    id: 17
    
  # Gambling
  - enabled: true
    url: https://raw.githubusercontent.com/StevenBlack/hosts/master/alternates/gambling/hosts
    name: Steven Black - Gambling
    id: 18

# Whitelist filters
whitelist_filters: []

# Custom blocking rules
user_rules:
  # Social media
  - "||tiktok.com^"
  - "||tiktokcdn.com^"
  - "||discord.com^"
  - "||discordapp.com^"
  - "||facebook.com^"
  - "||instagram.com^"
  - "||twitter.com^"
  - "||x.com^"
  - "||snapchat.com^"
  - "||reddit.com^"
  
  # Gaming platforms
  - "||steampowered.com^"
  - "||steamcommunity.com^"
  - "||epicgames.com^"
  - "||fortnite.com^"
  - "||roblox.com^"
  - "||battle.net^"
  
  # Streaming (optional - uncomment to block)
  # - "||twitch.tv^"
  # - "||youtube.com^"
  # - "||netflix.com^"

# DHCP settings (disabled)
dhcp:
  enabled: false
  interface_name: ""
  local_domain_name: lan
  dhcpv4:
    gateway_ip: ""
    subnet_mask: ""
    range_start: ""
    range_end: ""
    lease_duration: 86400
    icmp_timeout_msec: 1000
    options: []
  dhcpv6:
    range_start: ""
    lease_duration: 86400
    ra_slaac_only: false
    ra_allow_slaac: false

# Persistent clients (add child devices here)
clients:
  runtime_sources:
    whois: true
    arp: true
    rdns: true
    dhcp: true
    hosts: true
  persistent: []

# Logging
log_file: ""
log_max_backups: 0
log_max_size: 100
log_max_age: 3
log_compress: false
log_localtime: true
verbose: false

os:
  group: ""
  user: ""
  rlimit_nofile: 0

schema_version: 28

